---
file_type: "inquiry"
ticket_id: "TKT-20250820-002"
company: "My Best"
reporter: "Kaho Nagaso"
date: "2025-08-20"
status: "新規"
category: "技術的問題"
priority: "高"
related_systems: ["Dify", "ワークフロー", "コードノード", "LLMノード", "変数受け渡し"]
related_files: ["【精度編集中】★ランキング_スクリーニングくんver2.4 (4).yml", "スクリーンショット 2025-08-20 14.56.14.png", "スクリーンショット 2025-08-20 14.56.39.png"]
technical_issue: "コードノードからLLMノードへの変数が入らない不具合"
reported_colleagues: ["@miyatti"]
issued_at: "2025-08-20"
due_date: ""
ball_holder: "当方"
---

# 問い合わせ内容 - コード→LLM変数入力不具合

## 問い合わせ者: Kaho Nagaso
## 問い合わせ日時: 2025-08-20 14:58

@matsuni @miyatti
お疲れ様です！
先程定例の際にお話させていただいたのですが、コード→LLMにしたときになぜかLLMに変数が入らないことがあります🤔

コードで出力変数も指定しているのですが、入らないことがあり、こちらどうしたら見えますでしょうか..？💦

## 技術的詳細

### 問題の状況
- **システム**: Difyワークフロー
- **問題箇所**: コードノード → LLMノード への変数受け渡し
- **現象**: コードで出力変数を指定しているが、LLMノードに変数が入力されない場合がある
- **頻度**: 時々発生する不安定な動作

### 提供ファイル
1. **ワークフローファイル**: 【精度編集中】★ランキング_スクリーニングくんver2.4 (4).yml
2. **スクリーンショット**: 
   - `スクリーンショット 2025-08-20 14.56.14.png` - 問題状況の画面
   - `スクリーンショット 2025-08-20 14.56.39.png` - 設定画面

### 確認済み事項
- **コードノード側**: 出力変数を正しく指定済み
- **ワークフロー設計**: コード → LLM の接続は設定済み
- **再現性**: 安定した再現はできないが、複数回発生を確認

## 期待する解決内容

### 1. 原因分析
- 変数が入らない具体的な原因の特定
- 発生パターンの明確化
- システム的制約の有無確認

### 2. 解決策の提示
- 確実に変数を受け渡すための設定方法
- 不具合を回避する実装パターン
- デバッグ・確認手法の提案

### 3. 安定化対策
- 変数受け渡しの安定性向上
- 再発防止のための設計指針
- 監視・検知方法の確立

## 関連システム・ファイル
- **メインワークフロー**: ★ランキング_スクリーニングくんver2.4
- **ノード構成**: コードノード + LLMノード
- **変数設定**: 出力変数の明示的指定済み

## 緊急性
定例会での報告事項として、業務に影響を与える可能性のある技術的問題

## 連携担当
- **技術支援**: @matsuni @miyatti
- **関連チケット**: 他のDifyワークフロー関連問題と連携可能性あり

この問題の解決により、Difyワークフローでの変数受け渡しが安定化し、自動処理の信頼性が大幅に向上することが期待されます。